PZS-NG CHANGELOG
----------------

v1.2.0  --> 1.2.x :
		- Fix ngBot reloading on userfile reloads caused by botnet userfile sharing.
		  This had possible negative side-effects in plugins.
		- Fix ngBot logoutput of amount of plugins loaded when only 1 is loaded.
		- Fix psxc-symlink-maker not updating links when sorting by title when dest has changed.
		- Fix psxc-imdb parsing Directors with single quotes in their names correctly.
		- Fix psxc-imdb to parse all data again from pages now considered binary by certain grep-versions.
		- Change behaviour of use_partial_on_noforce to match strings in noforce_sfv_first_dirs with
		  any part of the path instead of the rightmost part.
		- Fix TVMaze plugin show_network showing incorrect result (thanks to ViP3R for noticing).
		- Fix %u_pid in SPEED* announces, add %currentdir for SPEED* and USER announces and %u_pid for USER announce.
		- Fix typos in TVMaze plugin (thanks to sam-lap for noticing)
		- Add TVMaze sitebot plugin, revamped TVRage plugin by MrCode.
		- ^--- 2016 ---^
		- Fix disabling of BADMSGINVITE announce.
		- Add explanation for vars in all triggers, WELCOME and (BAD)MSGINVITE
		- Add %color explanation and extra info for BNC_* announces
		- Add explanation for usable vars in FREE and FREE-DEV
		- Add announce for users with email as pass and using an incorrect one.
		- Add 44 extra genres defined by Winamp
		- Add announce for glftpd's new logline concerning logins with invalid usernames and adjust existing one for bad passwords.
		- Fix samplechecking for fileexts not being 3 chars long. Fix some memleaks and other bugs at the same time.
		- Fix incorrect bitrate (and other values) reported for .mp3 files (thanks to bizzyfunk for noticing)
		- Fix "-e" echo when compiling (patch by tittof)
		- Add sample_types option to be used instead of video_types to define those extensions present in sampledirs
		- Split del_completebar into as many equivalents as *_completebar
		- Add jpeg to allowed_types and 2015 to allowed_years
		- Make IRC-triggers configurable in ngBot: now you can easily disable a command
		  or add more triggers for it and eggdrop-perms can be set for them.
		  Changed files: ngBot.conf.defaults, ngBot.tcl, modules/glftpd.tcl
		  See ngBot.conf.defaults for new options and usage instructions
		- Add prooffix to default missing_sample_check_ignore_list
		- Fixed issue #9 where %u_tagline showed the user's FLAGS for the INVITE-event
		- ^--- 2015 ---^
		- Fixed crc calculation for the slice-methods on BSD and OSX (thanks to Hujer)
		- Fixed compilation on BSD and OSX (thanks to tittof and Hujer)
		- Prettified output at --(full)config of status_bar_type and crc_algo
		- Fixed bugs in invite.sh outputting "-e" and bad timeformat (fixed by rbt)
		- Implemented slice-by-4/8 based on Stephan Brumme's cpp code.
		  Introducing a new config option: crc_algo where you can decide
		  to keep using the standard algo or slice-by-4 or slice-by-8 (default).
		  This code is used when rescanning or when you don't use calc_crc in glftpd.
		- Fixed "make utils" not able to compile (thanks to tittof for noticing)
		- Fix GameFAQs sitebot plugin's rating and description
		- Fix overwriting of LDFLAGS when enabling FLAC (fixed by tittof)
		- Make configure more portable
		- Remove bashisms from the configure script
		- Move mp3 year checking code so it applies on flac files too
		- Clean up mp3 tag info gathering
		- Fix crashing zipscript when junk is present in the ID3-year tag and id3_year is used in the completebar (fixed by capone)
		- Added socks5 proxy support for TVRage sitebot plugin (based on code by crx)
		- Fix swapped arguments in dl_speedtest (fixed by rbt)
		- Enhance AutoOp sitebot plugin to handle any availible IRC mode. Renamed to AutoIRCFlag.
		- Fixed bug #535: !bnc command failing to parse ping reply on BSD
		- Fix deletion of .message when deleting a dir (fixed by DuReX)
		- Fix ng-chown being unable to change usernames when a user_name was given (thanks to tittof for noticing)
		- Added warnings to ng-chown when zsconfig-settings conflict with given params
		- Fix configure working with any future glftpd v2.04 up to v2.09
		- Fix GameFAQs sitebot plugin
		- Fix configure working with glftpd 2.03
		- Add .log to the allowed_types by default
		- Update default allowed_years to include 2014
		- ^--- 2014 ---^
		- Change "Psychadelic" to "Psychedelic". According to ID3
		  there is no ID3 genre standard: Q5 at http://id3.org/FAQ
		  So if there's no chance for a fix of a non-existing standard,
		  I quit following it and fix what's wrong with it.
		  Any other suggestions welcome though not of the American vs British English kind.
		- Fix typo in audio-genre-script (thanks to tittof for noticing)
		- Updated psxc-imdb.sh, see it's changelog
		- Refactor SFV-parsing
		- Fixed bug where not all data was available in the cookies for
		  the complete bar when the sfv was uploaded last.
		- Changed get_rar_info methodcall in preparation for a bugfix.
		- Made comment-removal in sfvs to be separately definable.
		  Now you can have a cleanup of the sfv while still keeping
		  the sometimes valuable information and/or ascii art present
		  in the comments. A must for old mp3 releases.
		- Fix typo in README.ZSCONFIG
		- Fix psxc-imdb-find not finding any results anymore
		- Fix for segv when rescanning audiodirs without audiofiles
		- Fix find_last_of and find_first_of crashing on NULL input
		- Forgotten mp3-to-audio textchange
		- change CHANGELOG to list newest at top
		- ^--- 2013 ---^
		- Bugfix for split AUDIO_* lines when garbage is in the ID3 fields
		- Rewrote and enhanced the stripping/trimming help functions
		- Bugfix for rescan where negative missing files and over 100% completion occured
		- Some fixes for the racedata and headdata files after rescan-runs
		- Cleanup, memleakfixes and preventive buffer overflow fixes for rescan
		- Fix forgotten part of sampledir checking code to work with commas
		- Update ignored_types, removed m3u from it to allow multi-cd m3u's
		- Fix allowed_genres and banned_genres (and any other list where items have a space)
		  having wrong matches. This causes sample_list to be a comma-seperated list
		  now, so update your zsconfig.h if you have that defined in there.
		- Rework internal speed handling and calculation
		- Improve stats-gathering for dayup/wkup/monthup/allup
		- Fix textual typo in glftpd.tcl
		- Updated video_types to contain .ts by default
		- Updated COOKIES file
		- Fixed libcopy.sh on 64bit systems not copying the correct resolvlibs
		- Fixed typo in docs regarding create_missing_sample_link
		- Added sample checking option to default zsconfig.h
		- Added vob, mov, mp4 and wmv to the default video_types and removed several from allowed_types
		- Updated the audio-genre script to use the same genres as in the zipscript
		- Added comments to ngBot.conf.default regarding max_log_change
		- Fixed bug #530: output problems for races with a lot of users
		- Fixed bug #532: halfway and newleader had wrong leader
		- Fixed bug in PreTime.tcl
		- Fixed bug whith sample_list in group_dirs and nocheck_dirs (Thanks to Auri for noticing)
		- Fixed linkererrors regarding FLAC libs
		- Fixed few inconsistencies in d3x0c.zst (Thanks to tr1t1um for noticing)
		- Fixed copy/paste typo in PreTime.tcl (Thanks to tr1t1um for noticing)
		- ^--- 2012 ---^
		- Fixed and updated the GameFAQs sitebot plugin
		- Updated COOKIES file
		- Several fixes in psxc-imdb, bringing it to v2.9p
		- Updated PreTime.tcl to check if the connection is still open, and some other stuff
		- Fixed another matchpath bug if both dirs were equal and both had no trailing /
		- Fix for bitrate gathering for flacfiles and vbr_version_string will now show the encoder used
		- Fix for backward compatibility when rescanning releases uploaded prior to the flacsupport
		- Several other fixes, cleanups and removal of most compiler warnings
		- Fixed another matchpathbug only occuring if a defined path had no trailing /
		- Added a new option audio_artist_sort_various_only which is meant for audioreleases with
		  various artists (VA-/VA_). As every file is now causing a sorting, those releases will be
		  sorted under every artist that appears on them. By setting this option to TRUE, those
		  releases will only be sorted under VA.
		- Sorting of audiofiles now happens for every file opposed to only the last file.
		- Added support for FLAC audiofiles, partially based on the flacpatch by io / yoaha,
		  and made adding other audioformats easier via the new audio_types configuration option.
		  Getting metadata information from other formats than .mp3 and .flac still has to be
		  implemented seperately though.
		  ATTENTION: the following configuration options have changed names due to this:
			del_progressmeter_mp3	>	del_progressmeter_audio
			enable_mp3_script	>	enable_audio_script
			message_mp3		>	message_audio
			mp3_script		>	audio_script
			mp3_script_cookies	>	audio_script_cookies
			progressmeter_mp3	>	progressmeter_audio
			realtime_mp3_info	>	realtime_audio_info
		    update your zsconfig.h accordingly.
		  ATTENTION: as the bins will now be compiled against the FLAC libs, you are advised
				to run libcopy.sh after installation, as those external libs have to be
				accessible when chrooted
		- Fix in psxc-imdb for PLOT output
		- Fixed bug where avis were not recognized on 64bit and thus didn't give sampleinfo
		- Added --disable-epsv to curl execution for those using glftpd-ng
		- Some fixes in psxc-imdb related to different charsets
		- Fixed broken findfileextsubp resulting in incomplete-indicators being created for
		  nfo and sample on dirs with no sfv and containing subdirs with sfv
		- Updated test-instructions for dl_speedtest in the README.
		- Fixed matchpath bug for a "path" without trailing '/', mainly occuring for speedtest_dirs
		  This should also fix issues with dl_speedtest. Thanks to sukalis for notifying.
		- Fixed numscreens, businessdata and limited release determination in psxc-imdb
		- Fixed bug #340 - when using del_banned_release , release is still present in dirlog
		  This involves new defines dirlogpath, enable_delbanned_script and delbanned_script;
		  and a new bin ng-deldir as well, which marks a dir as deleted in dirlog
		- Fix for make distclean/clean/uninstall not removing postunnuke
		- Cleanup and updates of configure
		- Fix segfault in passchk when run without arguments
		- Fixes for libcopy for 32bit libs on 64bit arch
		- Fix bug #523 - dirlog from glftpd 64bit doesn't work with showlog
		- Improved recognition of glversion and arch for proper 64bit glftpd support
		- Two bugfixes in psxc-symlink-maker, bringing it to version 2.9k
		- Fixed Top.tcl output for users with chars other than A-Za-z0-9_ - Fix by PCFiL
		- Added improved specialchar-replacement in psxc-symlinkmaker.sh - Thanks to PCFiL
		- Fixed c/p bug in psxc-symlinkmaker.sh - Fix by PCFiL
		- Added new cookie for incomplete-indicators, see COOKIES.
		- Added part of bug #215 - epoch in race complete (other part was already added)
		  This introduces a new cookie %& for usage in .message and bars and
		  a new var %t_epoch in COMPLETE_* and COMPLETE_STAT_RACE_*. This var comes
		  between %t_duration and %u_name and %t_duration and %u_count respectively,
		  so update your ngBot.vars file!
		- Added bug #434 - upper/lower case and title cookies, for zst files
		  See themes/default.zst for explanations.
		- Added 2010, 2011 and 2012 to allowed_years and removed 2005 and 2006
		- Added proof and cover? to default subdir_list
		- Added png and m2ts to default allowed_types
		- Updated all themes to have the EXPIRED announce (previously only in default.zst)
		- Added bug #359 - Show average ping instead of 1 ping only
		  Implemented it a bit differently with an extra option of how many pingcounts,
		  adding the min/avg/max/mdev instead of picking one to replace the ping with
		  and to not break all themes the %ping var was kept aside the new vars
		- Updated sitebot/COOKIES
		- Fixed typobug regarding mclastbind
		- Added bug #335 - setting to set chan or nick reply on bnc-trigger
		  This setting is available for all triggers via announcetochan(TRIGGER),
		  see ngBot.conf.defaults
		- Added bug #365 - Multiple channels in $mainchan do not work. - Thanks to firstof9
		- Added bug #435 - msgreplaces are sorted so highest indexnumber is used when
		  multiple matches occur - Thanks to [piLL]
		- Fixed bug #458 - privchannels wont invite users from PRIVATE groups
		- Fixed bug where any user could invite themselves via irc if irc inviting was enabled
		  regardless of invite rights on the ftp. This reworks the former bug where deleted
		  users could invite themselves, removing the previously introduced setting
		  enable_irc_invite_deleted_users and introducing the new invite_channels_rights
		  setting in ngBot.conf.defaults
		- Fixed bug where files would be marked as bad when sfv_lenient
		  and sfv_cleanup_lowercase would both be set to FALSE
		- several fixes and improvements on psxc-imdb, see CHANGELOG
		- Fixed bug #511 - incorrect diskcount for certain file_id.diz
		- Fixed bug #512 - several rescan fixes regarding zips
		- Fixed bug #503 - segfault in zsfunctions.c findfileextsub and findfileextsubp
		  partial fix for findfileextsub done by pute
		- updated TVRage script
		- fixed bug where deleted users could still invite themselves via irc_invite
		- added ignorelist for dirs which should not have a sample-dir
		- added option to store .message-files in pzs-ng storage and symlink to there
		- fixed incorrect default values for incompleteislink and userellink
		- fixed bug for rescanning single files
		- ^--- 2011 ---^
		- fixed a rare segfault issue if getwd() failed.
		- movies.apple.com changed - psxc-trailer script updated.
		- Added names to some values instf 0,1,2.
		- Fixed inaccuracy-bug in matchpath().
		- Rescan did not re-create missing-sfv links (fix by Sked).
		- Fixed bug #498, 499, 500 - cleanup.c - various fixes done by Sked.
		- Fixed bug #497 - zipscript-c: If chmod_completebar is enabled then
		  create_missing_sample_link does not work - fix done by lex.
		- Did some fixes in libcopy to overcome symlinks and old broken libs. Hopefully you
		  no longer need to rm -fR all lib* dirs in /glftpd before running libcopy anymore.
		- Fixed bug #485 - zipscript-c --config prints ((void *)0) instead of DISABLED.
		- Fixed bug #486 - psxc-imdb-rescan -r gives no or faulty psxcflags.
		- Fixed bug #487 - psxc-imdb.sh doesn't remove old IMDB banner when spaces present.
		- Fixed bug #492 - psxc-symlink-maker.sh: sort_by_title for films starting with a
		  dot or non-"A-Za-z0-9_\-()"-char.
		- Fixed bug #490 - psxc-imdb-find: lists pro-link url for searchstrings with one
		  hit in search.
		- Fixed bug #489 - psxc-imdb: INFOTEMPNAME-dir/file stays when no details can be
		  fetched.
		- Fixed bug #488 - psxc-imdb: films with no rating/votes show incorrect values in
		  IMDB banner.
		- Fixed bug #493 - Call curl from within the eggdrop using --max-time rather than
		  --connect-timeout. Prevents an unlikely situation that could stall the sitebot.
		- added windows slash (\) to the sfv check (allow_slash_in_sfv).
		- added mkv to default video_types.
		- Added key exchanging to Blow.tcl and updated/fixed a _lot_ of things.
		- Fixed bug #382 - Show !free in a set unit without auto rounding.
		- Fixed bug #350 - %date/%time variables for the !new/!search/!nukes/!unnukes
		  announces are now customisable.
		- Fixed bug #483 - TVRage sitebot plugin tmp_season/tmp_episode no such variable error.
		- Fixed bug #470 - GameFAQs sitebot plugin now works again.
		- Overhaul of the sitebot. RIP dZSbot, hello ngBot.
			- No functionality has been lost.
			- Old configuration files will still work. Rename them to ngBot.conf.
			- Changed the sitebot so it is now in its own namespace. This will break plugins
			  and addons that used the old procs & variables that were in the global
			  namespace. To fix this just prepend ::ngBot:: to the proc/variables.
			  eg: ::ngBot::sndall or ::ngBot::disable.
			- All procs and global variables now reside inside the ::ngBot namespace.
			- Modularised the sitebot so it can now accommodate other ftpds much more easily.
			- Moved a whole heap of glftpd only code into modules/glftpd.tcl.
			- Renamed the prefix of all trigger procs from ng_ to cmd_.
			- Changed the plugin system.
				- Plugins now reside inside the ::ngBot::plugin namespace.
				- The 'init' function within each plugin will be called once all scripts have
				  been loaded. Case sensitive. You should no longer be required to source
				  scripts in a certain order in your eggdrop.conf. ie. NickDb & Blow.
				- The 'deinit' function within each plugin will be called on rehash/restart.
				  No need for each plugin to bind to evnt prerehash anymore. Case sensitive.
				- Within 'init' if you want to return an error and silence the default
				  error message, use: return -code -1.
				- There is an example plugin: plugins/Example.tcl & plugins/Example.zpt.
				- Updated all plugins in the plugins/ directory to incorporate the all
				  changes.
			- Added an example ftpd module: modules/example.tcl.
			- All binds bound to a proc matching ::ngBot::* will now be unbound on
			  rehash/reset. No need to unbind them in plugins anymore.
			- It now now technically possible to run 2 or more sitebots on the one eggdrop
			  with some small modifications.
		- Updated psxc-trailer to 0.6 - no feature added, only some checks for dir-
		  perms.
		- added rescan_script and enable_rescan_script option to run script on rescan
		  if the release is complete.
		- change libcopy to better handle resolving in chroot environment (Debian and
		  Ubuntu in particular need this fix)
		- make dl_speedtest output to .debug

v1.1.0a --> 1.2.0 :
		- added option to make accept_script run prior to complete_script.
		- fix in tv-rage tcl to compensate for layout changes.
		- fixed small bug in postdel that prevented it from removing progressbars in
		  mp3-releases. Thanks goes to |DureX| for report and fix.
		- fixed a bug in rescan that prevented it from (re-)creating mp3-symlinks.
		- added check_for_missing_sample_dirs and create_missing_sample_link vars.
		- updated psxc-imdb to 2.9g
		- changed default allowed_years to include 2008 and exclude 2004
                - we no longer manually add spaces between racers in sortstats()/racer_list,
                  so racersplit is now per default " ". Neither do we add a space after
                  racersplit_prior.
                - renamed racersplit_prior to racersplit_prefix, and removed it from conf 
                  (it's been deprecated for a while).
                - removed racersplit & racersmsg from conf. (it's been deprecated for a while)
                - added racersplit_postfix.
                - %T/%t now users racersplit* too.
		- fixed a bug re: sort_by_group - case should now no longer matter
		- added audio_artist_noid3 option to sort by releasename istf id3 info (by pp)
		- fixed small bug in speedtest dirs when mark_file_as_bad was set to TRUE.
		- fixed small bug in sample_list.
		- fixed small bug with channel announce of groups.
		- fixed bug #472 - remove metadata completely when dir is empty.
		- updated libcopy to include special libs needed on linux for chroot dnslookups
		- added psxc-trailer as part of the scripts-dir.
		- fixed bug #482 - SFV_* vars missing entry in dzsbot.vars.
		- Fixed bug #466 - enable invite for halfop.
		- Fixed bug #471 - The stats irc triggers (!allup etc) are broken when a blowfish
		  script is introduced.
		- Fixed bug #474 - LOGIN variable dummy changed name.
		- Fixed bug #475 - Missing login.log parse for expired users.
		- Fixed a bug in avinfo which could make it loop endlessly on bad samples.

v1.1.0 --> 1.1.0a : (r2414)
		- stats in announces were broken in v1.1.0, ``hotfix''.

v1.0.10 --> 1.1.0 : (r2412)
		- fixed a typo with complete_bar and chmod_completebar (tnx losty)
		- new dZSbot.conf option: ftpd_type. this should be set to "other" if you're
		  running something other than glftpd.
		- added improvements to !incompletes showing percent missing.
		- added feature to ng_free for using mountpoint along with device.
		- don't use the '$' cookie in the zipscript statusbars (fixed a segfault in
		  in case you do - thanx sked for the report)
		- fixed a bug with chmod_completebar.
		- added option for two sets of generic incomplete indicators.
		- compat-fix in the create_sfv routine - BSD extension was not supported on
		  all distros.
		- fix a bug with sample checks and exemption dirs.
		- default statdefault value changed to something valid. (note: statdefault is
		  index, not name, of section).
		- no longer says N/Ams if you disable ping-check of BNCs.
		- rescan of an mp3 release in a audio_nosort_dir should no longer result in a symlink.
		- IRC groupstats triggers changed for consistency (!gp*), see
		  http://bugs.pzs-ng.com/view.php?id=448 for details.
		- You can now have multiple completebars. In config, separate them by newline.
		- Privchannel invites now work correctly for users with multiple groups.
		- new option by request: show_users_in_group_dirs - option to not hide usernames.
                - pzs-ng should now work fine under wzdftpd and cuftpd. Use the following to configure:
                  ./configure --with-install-path=/path/to/install --disable-glftpd-specific

v1.0.9  --> 1.0.10 : (r2339)
		- psxc-imdb v2.8.
		- added option combine_path to allow clients that does not cwd into reldir.
		- fixed a bug with userstats over 2TB.
		- added support for (xvid) yv12 codec.
		- fixed a bug where .message showed full path to releasedir in stats.
		- fixed a bug in the subdir detection routine.
		- never search for sfv in a sample dir.
		- made sitewho and showlog compile in native 64bit.
		- added option to list compiled config in zipscript-c.

v1.0.8  --> 1.0.9  : (r2291)
		- fixed a bug in showlog.
		- fixed a bug with no-nfo symlinks being created if if nfo existed.
		- added Pee's AutoOp.tcl plugin (untested).
		- added option video_types in zsconfig.h - list of video types.
		- added support for sample_script.
		- new var in zsconfig.h - sample_list - list of sample dirs.
		- added support for special announce on sample upload.
		- some new avinfo settings added.
		- New vars in dzsbot.vars: %video_width %video_height %video_fps %video_aspect
		                           %video_type_long %video_type_short %video_audio_hz
		                           %video_audio_channels %video_audio_name
		                           %video_audio_code
		- do not show subdir on !new (showlog binary).
		- more compat with wzdftpd added.
		- added some more mp3 settings.
		- new vars in dzsbot.vars: %vbr_quality %vbr_minimum_bitrate %vbr_noiseshaping
		                           %vbr_stereomode %vbr_unwise %vbr_source
		- disable allow message_file_name if set to "".
		- fixed a cleanup bug when zipfile integrity failed.
		- added support for hiding affils.
		- maziah fixed nfs.zst themefile.
		- added debug output in audiosort-bin and in createlink().
		- psxc-imdb v2.7i.
		- zyrex noticed a typo in stat announce - changed 'mB' to 'MB'.
		- small bug in psxc-imdb.tcl was fixed - resulted in it not working in
		  certain instances.
		- fixed bug with zip_clean only having effect on first uploaded zipfile.

v1.0.7  --> 1.0.8  : (r2252)
		- added support for vbr-old/vbr-new.
		- added more options to zsconfig - error msgs and benchmark output.
		- fix a bug in rescan when scanning new (not previously scanned) dirs.
		- fix a bug with rescan in 'quick' mode.
		- added '2007' and removed '2003' from list of allowed years in mp3.
		- on mp3 group-sort internal releases will not be renamed - only the
		  groupdir will.
		- the zipscript will no longer announce a release twice - dupe uploads
		  will be marked correctly, but no (normal) announce will happen in
		  glftpd.log.
		- added new variable/announce in bot on dupe releaseupload.
		- fixed bug on sfv creation/rescanning when case in sfv does not match
		  case of files.

v1.0.6  --> 1.0.7  : (r2230)
		- updated libcopy to v1.2 - fix for openbsd4.0.
		- added support for not sorting audio in certain dirs.
		- New option in zsconfig.h - audio_nosort_dirs - list of dirs where no
		  audiosorting should take place.
		- remove _INT from groupname in audio_group sorting.
		- added option to ignore certain languages in the mp3 sorting.
		- New option in zsconfig.h - audio_ignored_languages - list of ignored
		  languages.
		- fixed a bug in partial_on_noforce.
		- fixed a bug with no-nfo symlinks and false parentdir.
		- added a new option to incomplete-list.sh.
		- fixed a bug in cleanup where syms with absolute paths was ignored.
		- fix: ignore allowed_types when scanning an sfv.
		- fix: remove sfvdata when encountering a 'bad' sfv.
		- added option to allow slashes in filenames listed in the sfv.
		- New option in zsconfig.h - allow_slash_in_sfv - allow slashes in sfv.
		- added option to create sfv files on rescan.
		- New option in zsconfig.h - create_missing_sfv - option to create sfv files.

v1.0.5  --> 1.0.6  : (r2195)
		- fixed a bug with lenient compare, which mostly affected mp3-releases.
		- fixed a bug re: testing files when sfv was uploaded after releasefile(s).
		- fixed a bug re: broken sfv files, that had files with no crc at the end.
		- fixed a bug re: deny_nfo_upload_in_zip.
		- fixed a bug re: wrong msg to client on certain cases in zipscript-c.
		- added support for lame 3.97 presets.
		- fixed a bug re: uploads to nocheck_dirs.
		- added dl_speedtest - a new binary to measure download speeds.
		- fixed a bug in rescan --quick which did not detect if a previously checked
		  file was missing.
		- added support for speedtesting.
		- New option in zsconfig.h - speedtest_dirs - dirs dedicated to speedtesting.
		- New option in zsconfig.h - speedtest_delfile - keep or delete uploaded file.
		- added special mp3 progressmeter.
		- New option in zsconfig.h - progressmeter_mp3 - how mp3 progressmeter looks
		  like.
		- New option in zsconfig.h - del_progressmeter_mp3 - how mp3 del_progressmeter
		  looks like.
		- added option to chdir() before rescan.
		- New option in zsconfig.h - rescan_chdir_flags - flags needed by the user to
		  chdir() before rescanning a dir. Note: root (uid 0) is always allowed.
		- added support for sfv_lenient.
		- New option in zsconfig.h - sfv_lenient - see certain delimeter chars as the same
		- added support for missing-sfv.
		- New option in zsconfig.h - create_missing_sfv_link - check for missing sfv.
		- New option in zsconfig.h - incomplete_base_sfv_indicator - missing-indicator.
		- New option in zsconfig.h - incomplete_sfv_indicator - missing-indicator.
		- sort by group fixed - but GRPNaME and grpNAME in the same dir. Groupname from
		  the first release sets the default.

v1.0.4  --> 1.0.5  : (r2170)
		- additions/fixes in meij's plugins.
		- added cr0que's mod to move detection of VA mp3 artist to audiosort.c.
		- added cr0que's fix for a bug regarding mp3 releases with subdirs, and how the
		  the symlinks got puckered.
		- added meij's plugin-rewrite of psxc-imdb.tcl with support for directed imdb
		  lookups (previously only the "main" channel(s) would get the result).
		- fixed the malloc()/free() bug introduced with v1.0.3 completely.
		- fixed lastbind problem in GameFAQ and TVRage plugins with encrypted sitechans.

v1.0.3  --> 1.0.4  : (r2149)
		- fixed a malloc()/free() bug introduced with v1.0.3 that made the zs segfault.
		- don't print zipscript_header if it's zero in length.
		- do not extract nfo from zip if an nfo already exists in dir.
		- added more .diz types to be recognized.
		- updated meij's GameFAQ plugin to v.1.5
		- updated meij's TVRage plugin to v1.3

v1.0.2  --> 1.0.3  : (r2137)
		- added meij's TVRage plugin (v1.1)
		- added support for showing pid of users in sitewho (only in --raw, non-ss5 mode)
		- added support for denying resumed/overwritten sfv files.
		- added support for sorting mp3 by language.
		- New option in zsconfig.h - deny_resume_sfv - deny resumed/overwritten sfv files
		- New option in zsconfig.h - audio_language_sort - sort mp3 by language
		- New option in zsconfig.h - audio_language_path - where to put mp3 symlinks

v1.0.1b --> 1.0.2  : (r2130)
		- Fixed a coredump on amd64 in mp3info.
		- Fixed a coredump on amd64 in sitewho.
		- Made cleanup more general - previously it would only cleanup broken.
		  indicators or mp3 symlinks.
		- Small fix in sitewho (reading-config bug, affecting paths and names with =).
		- Small bugfix for imdb-nuker.
		- Fixed statsection support for allup/alldn/etc.
		- Fixed vars for pre announce.
		- Fix: dont show user/group stats if max_*_in_top == 0.
		- Fixed bug 394 - racestats seems to wrap over when alup is over 4TiB.
		- Fixed small compile error with audiosort and some obscure option.
		- Added a small mod to the imdb script that fixes the [b.gif] issue seen recently.
		- Fixed small bugs in dataclean and ng-chown.
		- Added 'spaces_to_dots' option, which'll replace spaces with dots in audio
		  genre dirs.
		- Fixed an obscure bug related to late sfv upload.
		- Fix: do not process 0byte files - weird shit happens.
		- Fixed a bug with no-nfo symlink if nfo upload did not go thru zipscript.
		- Updated README.AMD64 with instructions for ubuntu, gentoo and debian.
		- Added meij's GameFAQ tcl.
		- Fixed the problem with strange chars in tagline.
		- Added rescan mode '--quick' and  'file*' - quickmode will skip already checked
		  files, and file* will only scan files matching pattern.
		- Added new setting in conf (rescan_default_to_quick) which is defaulted to TRUE.
		- Added support for auto-extract nfo from zip.
		- Added support for checking rar for password protection.
		- Added support for removal of bannerfiles from zips (aka project-sl support).
		- Added support for showing pid of user in sitewho (only in --raw mode).
		- New option in zsconfig.h - zip_clean - removes bannerfiles/banned files from
		  zipfiles.
		- New option in zsconfig.h - extract_nfo - will extract the "real" nfo from the
		  zipfiles uploaded.
		- New option in zsconfig.h - deny_nfo_upload_in_zip - will deny nfo uploads in
		  zipdirs - might be a little strict, so this is turned off by default. Meant to
		  stop multiple (banner) nfo files uploads.
		- New option in zsconfig.h - test_for_password - deny passwordprotected rarfiles on
		  site.
		- New option in zsconfig.h - zip_bin - location of the 'zip' binary (inside chroot).
		- New option in zsconfig.h - banned_filelist - location of the list of banned files
		  which is used to remove certain files from zips.
		- New option in zsconfig.h - check_for_banned_files - will check the banned_filelist
		  when uploading files - if one is encountered, the zipscript will deny the upload.

v1.0.1  --> 1.0.1b : (r2040)
		- Fixed a silly bug with the deletion of old links.

v1.0.0  --> 1.0.1  : (r2039)
		- Various ss5 fixes.
		- Various small zipscript bug-fixes.
		- Various small dZSbot bug-fixes.
		- Same checksum & filename in sfv = same file.
		- Bug #378 fixed (dizreader not picking up x/xx) - reported by chotaire.
		- Added better handling of audiosorting. 'rescan' now sorts too! (like
		   zipscript does on complete).
		- New binary, 'audiosort'. 
		   This sorts a dir based on the same critera as rescan/zipscript does,
		   but does not require a completed release (or even a release at all,
		   could be used for non-zipscripted sites).
		   In addition, sorting now deletes any other identically named links,
		   and puts the 'right' one in place of it. :)

v0.6.1	--> 1.0.0  : The changes from the original project-zs by d1 is
			significant. There is nearly no code that has not been
			changed. For a full list of new/changed options, i
			suggest you read README.ZSCONFIG for the zipscript, and
			look at the README for the sitebot. Sitewho has also
			changed a lot and have been given a few new options, so
			check the sitebot.conf and the README.

			In total, there has been over 1800 code updates, so
			i won't list all of those here. I'll just list what
			changes are major ones. The new config options listed
			below can be read about in README.ZSCONFIG.


		----	Changes in the zipscript:

			New config options:
			-------------------
			- dupepath
			- noforce_sfv_first_dirs
			- use_partial_on_noforce
			- audio_nocheck_dirs
			- rescan_nocheck_dirs_allowed
			- strict_path_match
			- sfv_calc_single_fname
			- subdir_list
			- gl_sections
			- short_sitename
			- allowed_types_exemption_dirs
			- check_for_missing_nfo_dirs
			- check_for_missing_nfo_filetypes
			- create_incomplete_links_in_group_dirs
			- days_back_cleanup
			- cleanupdirs_dated
			- always_scan_audio_syms
			- write_complete_message_in_group_dirs
			- hide_group_uploaders
			- hide_gname
			- hide_uname
			- custom_group_dirs_complete_message
			- userellink
			- allow_files_not_in_sfv
			- strict_sfv_check
			- mark_file_as_bad
			- allow_file_resume
			- sleep_on_bad
			- debug_altlog
			- debug_announce
			- ignore_zero_size
			- ignore_zero_size_on_rescan
			- remove_dot_debug_on_delete
			- remove_dot_files_on_delete
			- unzip_bin
			- sfv_cleanup_lowercase
			- sfv_cleanup_crlf
			- deny_double_sfv
			- deny_double_nfo
			- audio_group_sort
			- audio_group_path
			- audio_cbr_check
			- audio_cbr_warn
			- audio_year_warn
			- allowed_genres
			- audio_banned_genre_check
			- audio_allowed_genre_check
			- audio_genre_warn
			- del_banned_release
			- enable_files_ahead
			- newleader_files_ahead
			- min_newleader_size
			- min_update_size
			- min_halfway_size
			- show_stats_from_pos2_only
			- message_file_name
			- incomplete_base_nfo_indicator
			- incomplete_nfo_indicator
			- charbar_missing
			- charbar_filled
			- enable_nfo_script
			- nfo_script
			- enable_mp3_script
			- mp3_script
			- mp3_script_cookies
			- enable_unduper_script
			- unduper_script
			- disable_audio_race
			- disable_audio_sfv
			- disable_audio_update
			- disable_audio_halfway
			- disable_audio_newleader
			- disable_audio_complete
			- disable_audio_norace_halfway
			- disable_audio_norace_complete
			- disable_video_race
			- disable_video_sfv
			- disable_video_update
			- disable_video_halfway
			- disable_video_newleader
			- disable_video_complete
			- disable_video_norace_halfway
			- disable_video_norace_complete
			- disable_rar_race
			- disable_rar_sfv
			- disable_rar_update
			- disable_rar_halfway
			- disable_rar_newleader
			- disable_rar_complete
			- disable_rar_norace_halfway
			- disable_rar_norace_complete
			- disable_zip_race
			- disable_zip_sfv
			- disable_zip_update
			- disable_zip_halfway
			- disable_zip_newleader
			- disable_zip_complete
			- disable_zip_norace_halfway
			- disable_zip_norace_complete
			- disable_other_race
			- disable_other_sfv
			- disable_other_update
			- disable_other_halfway
			- disable_other_newleader
			- disable_other_complete
			- disable_other_norace_halfway
			- disable_other_norace_complete
			- racersplit
			- racersplit_prior
			- chmod_completebar
			- mark_empty_dirs_as_incomplete_on_rescan
			- max_seconds_wait_for_lock
			- lock_optimize
			- ignore_lock_timeout
			- allow_uid_change_in_ng_chown
			- allow_gid_change_in_ng_chown
			- allow_dir_chown_in_ng_chown
			- allow_files_chown_in_ng_chown
			- change_spaces_to_underscore_in_ng_chown


			Changed config options:
			-----------------------
			- zip_dirs,sfv_dirs, group_dirs - dirs not listed in these variables will not be scanned.
			- cleanupdirs - does no longer support dated dirs - those are moved to cleanupdirs_dated
			- allowed_bitrates - renamed to allowed_constant_bitrates
			- del_completebar - some cookies was added, and this variable had to be changed.
			- del_progressmeter - some cookies was added, and this variable had to be changed.


			Removed config options:
			-----------------------
			- site_root - no longer needed
			- audio_genre_check - replaced by audio_banned_genre_check and audio_allowed_genre_check
			- zip_complete_type - all bot output is done in the bot/theme
			- zip_norace_complete_type - all bot output is done in the bot/theme
			- rar_complete_type - all bot output is done in the bot/theme
			- rar_norace_complete_type - all bot output is done in the bot/theme
			- audio_complete_type - all bot output is done in the bot/theme
			- audio_norace_complete_type - all bot output is done in the bot/theme
			- video_complete_type - all bot output is done in the bot/theme
			- video_norace_complete_type - all bot output is done in the bot/theme
			- other_complete_type - all bot output is done in the bot/theme
			- other_norace_complete_type - all bot output is done in the bot/theme
			- pre_stats - all bot output is done in the bot/theme
			- between_stats - all bot output is done in the bot/theme
			- post_stats - all bot output is done in the bot/theme
			- user_top - all bot output is done in the bot/theme
			- user_info - all bot output is done in the bot/theme
			- group_top - all bot output is done in the bot/theme
			- group_info - all bot output is done in the bot/theme
			- fastestfile - all bot output is done in the bot/theme
			- slowestfile - all bot output is done in the bot/theme
			- audio_race - all bot output is done in the bot/theme
			- audio_sfv - all bot output is done in the bot/theme
			- audio_update - all bot output is done in the bot/theme
			- audio_halfway - all bot output is done in the bot/theme
			- audio_newleader - all bot output is done in the bot/theme
			- audio_complete - all bot output is done in the bot/theme
			- audio_norace_halfway - all bot output is done in the bot/theme
			- audio_norace_complete - all bot output is done in the bot/theme
			- video_race - all bot output is done in the bot/theme
			- video_sfv - all bot output is done in the bot/theme
			- video_update - all bot output is done in the bot/theme
			- video_halfway - all bot output is done in the bot/theme
			- video_newleader - all bot output is done in the bot/theme
			- video_complete - all bot output is done in the bot/theme
			- video_norace_halfway - all bot output is done in the bot/theme
			- video_norace_complete - all bot output is done in the bot/theme
			- rar_race - all bot output is done in the bot/theme
			- rar_sfv - all bot output is done in the bot/theme
			- rar_update - all bot output is done in the bot/theme
			- rar_halfway - all bot output is done in the bot/theme
			- rar_newleader - all bot output is done in the bot/theme
			- rar_complete - all bot output is done in the bot/theme
			- rar_norace_halfway - all bot output is done in the bot/theme
			- rar_norace_complete - all bot output is done in the bot/theme
			- other_race - all bot output is done in the bot/theme
			- other_sfv - all bot output is done in the bot/theme
			- other_update - all bot output is done in the bot/theme
			- other_halfway - all bot output is done in the bot/theme
			- other_newleader - all bot output is done in the bot/theme
			- other_complete - all bot output is done in the bot/theme
			- other_norace_halfway - all bot output is done in the bot/theme
			- other_norace_complete - all bot output is done in the bot/theme
			- zip_race - all bot output is done in the bot/theme
			- zip_update - all bot output is done in the bot/theme
			- zip_halfway - all bot output is done in the bot/theme
			- zip_newleader - all bot output is done in the bot/theme
			- zip_complete - all bot output is done in the bot/theme
			- zip_norace_halfway - all bot output is done in the bot/theme
			- zip_norace_complete - all bot output is done in the bot/theme
			- stats_line - all bot output is done in the bot/theme
			- incompletemsg - all bot output is done in the bot/theme
			- sfv_comment - spam removed
			- KEY - shared mem is not used
			- sql_user - sql is not used (never was)
			- sql_pass - sql is not used (never was)
			- sql_host - sql is not used (never was)
			- sql_db - sql is not used (never was)
			- copy_files_to_zip - spam removed
			- includezip - spam removed
			- version - removed from userconfig


			codechanges not directly related to config options:
			---------------------------------------------------
			- glftpd v1.xx and 2.xx supported.
			- the 4GB limit has been removed.
			- max number of files in a release has been changed from 100 to 1024 - this limit can easily be changed later.
			- support for sections added.
			- the shared memory dependency has been removed. This means that it will work on any glftpd version, or other ftpd.
			- some cookies has changed, others removed or added.
			- output to glftpd.log is no longer user-formatted - instead raw cookies are logged.
			- major rewrites removed all known memory leaks and possible core reasons.
			- debug output is vastly improved.
			- mp3 vbr support is added.
			- portability has improved - the most popular platforms are supported.
			- partial amd64-support - you need to compile in m32 mode, but the zipscript works.
			- smart handling of double sfv make sure a false sfv isn't uploaded.
			- improved handling of sfv content.
			- a locking mechanism is added, which prevent race conditions and wrongly marked incomplete releases.
			- the crc table was replaced with a better/correct one, which helps on large file releases.
			- all bins are changed to run under chroot only.
			- cleanup now removes broken links and lists incomplete releases
			- compile options like --with-ss5 give ss5 support.
			- the zipscript will calculate the crc of the file if no crc (0) is sent from glftpd.
			- cleanup now works as a cscript to 'site nuke' and 'site wipe'
			- datacleaner now works as a cscript to 'RMD' and 'site nuke'
			- a banned (mp3)-release can be deleted automatically after first file, saving bw and hd-space.
			- ng-chown (a new bin) allows you to chown files/dirs. An example of its use is included.
			- ng-undupe (a new bin) will undupe files that fail (on rescan for instance) allowing the file to be re-uploaded.
			- upgrading is easy - there is no need to rewrite the config for each upgrade - just copy it over.
			- zsconfig.h now only holds changes to the defaults, ie on upgrades new options will be used with default values.
			- the zipscript can be run from (chroot'ed) shell, allowing for easier debugging (and execution from scripts).
			- rescan is "safe" - it will not remove files that are being uploaded.


		----	Changes in the sitebot:

			Numerous new IRC commands: !leechers, !idlers, !uploaders,
			!new, !nukes, !unnukes, !search, and !uptime.

			A new plug-in system, which makes it easier for users to
			add custom features without having to directly modify the
			source files. There are several example plug-ins included;
			such as a pre-time check, channel kick on deluser, and
			an IRC nick to FTP user mapping plug-in.

			Invite users to private channels based on their name,
			group, or flags. For example, one could invite all
			users with the "1" flag to #Staff.

			dZSbot can announce sysop.log and login.log events, or
			redirect them to your staff channel.

			The FTP bouncer check now supports explicit secure connections,
			commonly referred to as "AUTH TLS".

			The bot now uses a theming system to customize channel
			announces. A preview system is included allowing you
			to view your theme before using it.

			Easier configuration - if an option isn't defined the
			default value will be used. This makes upgrading much easier,
			since there's no need to reconfigure the bot for each update.

			Full support for glftpd v1.x and v2.x.

			Better error control - instead of crashing, the bot
			will output what's wrong in the party line.


		----	Changes in sitebot scripts/addons:

			A few new scripts have been added.

			Some scripts have been revised, others rewritten.


		----	Changes in sitewho:

			A lot of the code have been rewritten.

			A few new options have been added.

			Full support for glftpd v1.x and v2.x.


		----	Changes in scripts/:

			A few scripts have been removed, other added and some
			revised/rewritten/replaced.

--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
				END OF CHANGELOG
--------------------------------------------------------------------------------
--------------------------------------------------------------------------------
